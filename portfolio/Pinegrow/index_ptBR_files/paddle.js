var _Paddle=(function Paddle(_window,libraryVersion){return function PaddleConstruct(_window,libraryVersion){var _this=this;var _options={debug:false,enableTracking:true,poweredByBadge:true,loadMethod:'Direct',vendor:null,eventCallback:null};var _prices={};var _activeCheckout={};var _env={current:'production',defaults:{local:{checkoutBase:'https://checkout.paddle.com:8443/checkout/product/',internalCheckoutBase:'https://checkout.paddle.com:8443/checkout/tool/',pricesApi:'https://checkout.paddle.com:8443/api/1.0/prices',dataApi:'https://checkout.paddle.com:8443/api/1.0/data',analyticsKey:'8b03159305e2c0f49bf7481c073a4819'},staging:{checkoutBase:'https://staging-checkout.paddle.com/checkout/product/',internalCheckoutBase:'https://staging-checkout.paddle.com/checkout/tool/',pricesApi:'https://staging-checkout.paddle.com/api/1.0/prices',dataApi:'https://staging-checkout.paddle.com/api/1.0/data',analyticsKey:'8b03159305e2c0f49bf7481c073a4819',},production:{checkoutBase:'https://checkout.paddle.com/checkout/product/',internalCheckoutBase:'https://checkout.paddle.com/checkout/tool/',pricesApi:'https://checkout.paddle.com/api/1.0/prices',dataApi:'https://checkout.paddle.com/api/1.0/data',analyticsKey:'e5f9ae01b24745b61dad7ad1507e31e8'}}}
var _defaults={analyticsCookie:'paddlejs_checkout',affiliateCookie:'paddlejs_affiliate',campaignCookiePrefix:'paddlejs_campaign_',campaignCookieExpiresDays:30,buttonCssFile:'https://cdn.paddle.com/paddle/c/buttons.css',popupWindow:{width:370,height:470,location:'yes',menubar:'no',resizable:'yes',scrollbars:'yes',status:'no',toolbar:'no'},domainCategories:{'paddle.com':{name:'Paddle',type:'Marketplace'},'creatable':{name:'Creatable',type:'Marketplace'},'facebook.com':{name:'Facebook',type:'Social'},'fb.com':{name:'Facebook',type:'Social'},'t.co':{name:'Twitter',type:'Social'},'twitter.com':{name:'Twitter',type:'Social'},'reddit.com':{name:'Reddit',type:'Social'},'medium.com':{name:'Medium',type:'Social'},'news.ycombinator.com':{name:'Hacker News',type:'Social'},'designernews.com':{name:'Designer News',type:'Social'},'producthunt.com':{name:'Product Hunt',type:'Social'},'paypal.com':{name:'Paddle',type:'Marketplace'},'my.paddle.com':{name:'Paddle',type:'Marketplace'},'cultofmac.com':{name:'Cult of Mac',type:'Article'},'mail.yahoo':{name:'Yahoo Mail',type:'Email'},'mail.google':{name:'Gmail',type:'Email'},'gmail':{name:'Gmail',type:'Email'},'mail.google.com':{name:'Gmail',type:'Email'},'mail.live':{name:'Live Mail',type:'Email'},'mail.aol.com':{name:'Aol Mail',type:'Email'},'mail.qq.com':{name:'QQ Mail',type:'Email'},'mail.comcast.net':{name:'Comcast Mail',type:'Email'},'earthlink.net':{name:'Earthlink Mail',type:'Email'},'bing':{name:'Bing',type:'Search'},'yahoo':{name:'Yahoo',type:'Search'},'google':{name:'Google',type:'Search'},'localhost':{name:'Localhost',type:'Local'}}};var _status={};this.Environment={detect:function(){if(typeof _util.urlParam('paddle_env')!='undefined'&&_util.urlParam('paddle_env')!=''){_this.Debug('Environment Detected: '+_util.urlParam('paddle_env'));this.set(_util.urlParam('paddle_env'));}else{_this.Debug('Environment Detected: '+this.get());}},get:function(){return _env.current;},set:function(environment){_this.Debug('Changing environment to: '+environment);_env.current=environment;},defaults:function(){return _env.defaults[_env.current];}};this.Status={loadedAnalytics:false,failedLoadingAnalytics:false,loadedButtonStylesheet:false};this.Options=function(options){if(typeof options=='object'){for(var option in options){if(options.hasOwnProperty(option)){if(_options.hasOwnProperty(option)){if(option=='vendor'){if(options[option]!==parseInt(options[option],10)){throw new Error("[PADDLE] The option parameter 'vendor' must be an integer.");}
if(options[option]==1234567){throw new Error("[PADDLE] You must specify a valid Paddle Vendor ID as the 'vendor' attribute of passed to Paddle.Setup() or Paddle.Options(). The provided Vendor ID '1234567' is invalid and used for example purposes. You can get your Paddle Vendor ID from the 'Integrations' tab of the following page: https://vendors.paddle.com/account");}}
_this.Debug("Set option '"+option+"' to '"+options[option]+"'.");_options[option]=options[option];}else{throw new Error("[PADDLE] Unknown option parameter '"+option+"'");}}}}else{throw new Error("[PADDLE] The Options() method accepts an object of options values.");}};this.Setup=function(options){if(!window.PaddleCompletedSetup){if(typeof options!='undefined'&&typeof options=='object'){if(typeof options.vendor!='undefined'){_this.Options(options);}else{throw new Error("[PADDLE] You must specify your Paddle Vendor ID during within the Paddle.Setup(); method. See 'Basic Setup' in the Paddle.js documentation: https://www.paddle.com/docs/paddle-js-overlay-checkout");}}
_this.Analytics.track('Paddle.Library.Loaded');_this.Analytics.trackPageview();_this.Button.load();window.PaddleCompletedSetup=true;_this.Debug('Completed library setup.');_util.listen();_this.Environment.detect();_util.campaignAttributes();_util.detectAutoOpen();}else{_this.Debug('Cannot call Paddle.Setup() more than once per page, the call was ignored.','warning');}};this.Product={Price:function(amountType,productId,quantity,callback){if(typeof quantity=='undefined'){var quantity=1;}else if(quantity<=0){var quantity=1;}
var priceData=_util.getPrices(productId,quantity,function(priceData){if(typeof callback!='undefined'){if(typeof priceData.price!='undefined'){if(amountType=='gross'){callback(priceData.price.gross||false);}else if(amountType=='tax'){callback(priceData.price.tax||false);}else if(amountType=='net'){callback(priceData.price.net||false);}else if(amountType=='tax_included'){callback(priceData.price.tax_included||false);}else{callback(false);}}else{callback(false);}}});},Prices:function(productId,quantity,callback){if(typeof quantity=='function'){var callback=quantity;var quantity=1;}
var priceData=_util.getPrices(productId,quantity,function(priceData){if(typeof callback!='undefined'&&typeof callback=='function'){callback(priceData);}});}};this.Checkout={open:function(checkoutAttributes,invocationMethod){_util.closeCheckout(null,false);if(!window.PaddleCompletedSetup){_this.Debug("You haven't called Paddle.Setup(), using Paddle.js without calling Paddle.Setup() is unsupported and may result in unwanted issues. Docs: https://www.paddle.com/docs/paddle-js-overlay-checkout",'warning',true);}
if(typeof invocationMethod=='undefined'){var invocationMethod='function';}
if(typeof checkoutAttributes=='object'){if(typeof checkoutAttributes.method!='undefined'){if(checkoutAttributes.method=='overlay'){var checkoutMethod='overlay';}else if(checkoutAttributes.method=='window'){var checkoutMethod='window';}else if(checkoutAttributes.method=='inline'){var checkoutMethod='inline';}else{checkoutAttributes.method='overlay';var checkoutMethod='overlay';}}else{checkoutAttributes.method='overlay';var checkoutMethod='overlay';}
if(_util.isMobile()&&checkoutMethod!='inline'){checkoutAttributes.method='window';var checkoutMethod='window';}
_activeCheckout=checkoutAttributes;if(_activeCheckout.isUpsell){_this.Analytics.track('Paddle.Checkout.Upsell.Open',{upsellProduct:_activeCheckout.product});setTimeout(function(){var original=document.getElementById('paddle_upsell_original');if(original){original.setAttribute('style','display:block;');}},1850);}
if(checkoutAttributes.referring_domain!=null&&checkoutAttributes.referring_domain!=''&&checkoutAttributes.referring_domain){_util.setPaddleCampaign(checkoutAttributes.referring_domain);}
checkoutAttributes.referring_domain=_util.buildPaddleReferrerString();if(typeof checkoutAttributes.passthrough=='object'){checkoutAttributes.passthrough=JSON.stringify(checkoutAttributes.passthrough);}
if(typeof checkoutAttributes.email!='undefined'){checkoutAttributes.guest_email=checkoutAttributes.email;delete checkoutAttributes.email;}
if(typeof checkoutAttributes.country!='undefined'){checkoutAttributes.guest_country=checkoutAttributes.country;delete checkoutAttributes.country;}
if(typeof checkoutAttributes.postcode!='undefined'){checkoutAttributes.guest_postcode=checkoutAttributes.postcode;delete checkoutAttributes.postcode;}
if(typeof checkoutAttributes.trialDays!='undefined'){checkoutAttributes.trial_days=checkoutAttributes.trialDays;delete checkoutAttributes.trialDays;}
if(typeof checkoutAttributes.trialDaysAuth!='undefined'){checkoutAttributes.trial_days_auth=checkoutAttributes.trialDaysAuth;delete checkoutAttributes.trialDaysAuth;}
if(typeof checkoutAttributes.allowQuantity!='undefined'){if(checkoutAttributes.allowQuantity==true||checkoutAttributes.allowQuantity=='true'||checkoutAttributes.allowQuantity=='1'||checkoutAttributes.allowQuantity==1){checkoutAttributes.quantity_variable='1';}else{checkoutAttributes.quantity_variable='0';}
delete checkoutAttributes.allowQuantity;}
if(typeof checkoutAttributes.message!='undefined'){checkoutAttributes.custom_message=checkoutAttributes.message;delete checkoutAttributes.message;}
if(typeof checkoutAttributes.disableLogout!='undefined'){checkoutAttributes.disable_logout=checkoutAttributes.disableLogout;delete checkoutAttributes.disableLogout;}
delete checkoutAttributes.theme;_this.Debug('Creating checkout with attributes: '+JSON.stringify(checkoutAttributes));if(checkoutMethod=='overlay'&&typeof checkoutAttributes.upsell!='undefined'&&checkoutAttributes.upsell!=''){_util.jsonp(_this.Environment.defaults().dataApi+'?product_id='+checkoutAttributes.upsell,function(data){var imageUrl=data.image;var title=(typeof checkoutAttributes.upsellTitle!='undefined')?checkoutAttributes.upsellTitle:'Upgrade to '+data.name+'!';var description=(typeof checkoutAttributes.upsellText!='undefined')?checkoutAttributes.upsellText:'Why not upgrade your purchase to '+data.name+'?';var ctaText=(typeof checkoutAttributes.upsellAction!='undefined')?checkoutAttributes.upsellAction:'Upgrade to '+data.name+'!';var orginalCheckout=function(){_util.renderCheckoutFrame(checkoutAttributes.product,checkoutAttributes,false);};_this.Upsell.create(checkoutAttributes.upsell,imageUrl,title,description,ctaText,orginalCheckout);});}
if(checkoutMethod=='overlay'){_util.renderCheckoutFrame(checkoutAttributes.product,checkoutAttributes,false);}else if(checkoutMethod=='inline'){_util.renderCheckoutFrame(checkoutAttributes.product,checkoutAttributes,true);}else{_util.renderCheckoutWindow(checkoutAttributes.product,checkoutAttributes);}
if(_options.enableTracking){_this.Analytics.track('Paddle.Checkout.Open',{openMethod:checkoutMethod,invokedVia:invocationMethod});}}else{throw new Error("[PADDLE] An object of checkout parameters must be passed to Paddle.Checkout.open()");}}};this.Upsell={css:function(rightPosition){var rightPosition=(typeof rightPosition!='undefined')?rightPosition:-350;return'position: fixed; z-index: 999999; top: 20px; right: '+rightPosition+'px; background: #FFFFFF; padding: 17px; border-radius: 3px; width: 265px; box-shadow: 0px 1px 4px 1px rgba(0,0,0,0.13); box-sizing: content-box;';},create:function(productId,imageUrl,title,description,ctaText,orginalCheckoutFunction){window.UpsellPosition=-350;var ctaText=(typeof ctaText!='undefined')?ctaText:'Buy Now!';var body=document.getElementsByTagName('body')[0];var upsell=document.createElement('div');upsell.setAttribute('id','paddle_upsell_'+productId);upsell.setAttribute('class','paddle_upsell');upsell.setAttribute('style',_this.Upsell.css());upsell.innerHTML='<div class="paddle_upsell-wrapper"><div class="paddle_upsell-icon" style="background-image: url(\''+imageUrl+'\');"></div><div class="paddle_upsell-data"><div class="paddle_upsell-title">'+title+'</div><div class="paddle_upsell-text">'+description+'</div><div class="paddle_upsell-cta"><a href="#" class="paddle_upsell_button paddle_button" data-product="'+productId+'" data-upsell-button="true" data-referrer="Upsell">'+ctaText+'</a></div></div></div>';body.appendChild(upsell);var original=document.createElement('div');original.setAttribute('id','paddle_upsell_original');original.setAttribute('class','paddle_upsell_original');original.setAttribute('style','display:none;');original.innerHTML='<span class="paddle_upsell_original_link">&lsaquo; Back to Original Checkout</span>';original.onclick=function(){_util.closeCheckout(null);orginalCheckoutFunction();}
body.appendChild(original);_this.Button.load();},display:function(productId){window.UpsellPosition=(typeof window.UpsellPosition=='undefined')?-350:window.UpsellPosition;window.UpsellAnimate=setInterval(function(){var newPosition=window.UpsellPosition+10;window.UpsellPosition=newPosition;var upsell=document.getElementById('paddle_upsell_'+productId);if(upsell){upsell.setAttribute('style',_this.Upsell.css(newPosition));}
if(newPosition>=20){clearInterval(window.UpsellAnimate);_this.Analytics.track('Paddle.Checkout.Upsell.Show',{originalProduct:_activeCheckout.product,upsellProduct:productId});}},5);},close:function(productId){window.UpsellPosition=(typeof window.UpsellPosition=='undefined')?20:window.UpsellPosition;window.UpsellCloseAnimate=setInterval(function(){var newPosition=window.UpsellPosition-10;window.UpsellPosition=newPosition;var upsell=document.getElementById('paddle_upsell_'+productId);upsell.setAttribute('style',_this.Upsell.css(newPosition));if(newPosition<=-350){clearInterval(window.UpsellCloseAnimate);}},5);},wiggle:function(productId){}};this.Spinner={show:function(){_util.showLoading();},hide:function(){_util.hideLoading();}};this.Button={addStylesheet:function(){if(!_this.Status.loadedButtonStylesheet){var head=document.getElementsByTagName('head')[0];var link=document.createElement('link');link.rel='stylesheet';link.type='text/css';link.href=_defaults.buttonCssFile;link.media='all';head.appendChild(link);_this.Status.loadedButtonStylesheet=true;}},addTheme:function(buttonElement,theme){if(theme!='none'){_util.addClass(buttonElement,'paddle_styled_button');if(theme=='green'){_util.addClass(buttonElement,'green');}else if(theme=='light'){_util.addClass(buttonElement,'light');}else if(theme=='dark'){_util.addClass(buttonElement,'dark');}}},attribute:function(attributesObject,attributesObjectKey,buttonElement,attributeName,attributeDefault){if(typeof attributeDefault=='undefined'){var attributeDefault=false;}
var attributeValue=(buttonElement.getAttribute(attributeName)!=''&&buttonElement.getAttribute(attributeName)!=null)?buttonElement.getAttribute(attributeName):attributeDefault;if(attributeValue){attributesObject[attributesObjectKey]=attributeValue;}
return attributesObject;},getButtonAttributes:function(buttonElement){var buttonAttributes={};buttonAttributes=_this.Button.attribute(buttonAttributes,'theme',buttonElement,'data-theme','green');buttonAttributes=_this.Button.attribute(buttonAttributes,'product',buttonElement,'data-product');buttonAttributes=_this.Button.attribute(buttonAttributes,'successCallback',buttonElement,'data-success-callback',null);buttonAttributes=_this.Button.attribute(buttonAttributes,'loadCallback',buttonElement,'data-load-callback',null);buttonAttributes=_this.Button.attribute(buttonAttributes,'closeCallback',buttonElement,'data-close-callback',null);buttonAttributes=_this.Button.attribute(buttonAttributes,'success',buttonElement,'data-success');buttonAttributes=_this.Button.attribute(buttonAttributes,'price',buttonElement,'data-price','');buttonAttributes=_this.Button.attribute(buttonAttributes,'auth',buttonElement,'data-auth','');buttonAttributes=_this.Button.attribute(buttonAttributes,'trial_days',buttonElement,'data-trial-days','');buttonAttributes=_this.Button.attribute(buttonAttributes,'trial_days_auth',buttonElement,'data-trial-days-auth','');buttonAttributes=_this.Button.attribute(buttonAttributes,'guest_email',buttonElement,'data-email','');buttonAttributes=_this.Button.attribute(buttonAttributes,'guest_country',buttonElement,'data-country','');buttonAttributes=_this.Button.attribute(buttonAttributes,'guest_postcode',buttonElement,'data-postcode','');buttonAttributes=_this.Button.attribute(buttonAttributes,'passthrough',buttonElement,'data-passthrough','');buttonAttributes=_this.Button.attribute(buttonAttributes,'coupon',buttonElement,'data-coupon','');buttonAttributes=_this.Button.attribute(buttonAttributes,'quantity',buttonElement,'data-quantity','');buttonAttributes=_this.Button.attribute(buttonAttributes,'custom_message',buttonElement,'data-message','');buttonAttributes=_this.Button.attribute(buttonAttributes,'referring_domain',buttonElement,'data-referrer','');buttonAttributes=_this.Button.attribute(buttonAttributes,'title',buttonElement,'data-title','');buttonAttributes=_this.Button.attribute(buttonAttributes,'disable_logout',buttonElement,'data-disable-logout','');buttonAttributes=_this.Button.attribute(buttonAttributes,'upsell',buttonElement,'data-upsell','');buttonAttributes=_this.Button.attribute(buttonAttributes,'upsellText',buttonElement,'data-upsell-text',false);buttonAttributes=_this.Button.attribute(buttonAttributes,'upsellTitle',buttonElement,'data-upsell-title',false)
buttonAttributes=_this.Button.attribute(buttonAttributes,'upsellAction',buttonElement,'data-upsell-action',false)
buttonAttributes=_this.Button.attribute(buttonAttributes,'isUpsell',buttonElement,'data-upsell-button',false);if(buttonElement.getAttribute('data-allow-quantity')!=''&&(buttonElement.getAttribute('data-allow-quantity')=='false'||buttonElement.getAttribute('data-allow-quantity')===false||buttonElement.getAttribute('data-allow-quantity')=='0')){buttonAttributes.quantity_variable='0';}else{buttonAttributes.quantity_variable='1';}
buttonAttributes=_this.Button.attribute(buttonAttributes,'override',buttonElement,'data-override','');buttonAttributes=_this.Button.attribute(buttonAttributes,'internal',buttonElement,'data-internal','');buttonAttributes=_this.Button.attribute(buttonAttributes,'vendor',buttonElement,'data-vendor','');buttonAttributes=_this.Button.attribute(buttonAttributes,'plan',buttonElement,'data-plan','');return buttonAttributes;},load:function(){_util.ready(function(){var buttonCounter=0;_util.each('paddle_button',function(buttonElement){var _buttonHasInit=(buttonElement.getAttribute('data-init')=='true');if(_buttonHasInit){var buttonClone=buttonElement.cloneNode(true);buttonElement.parentNode.replaceChild(buttonClone,buttonElement);buttonElement=buttonClone;}
var buttonAttributes=_this.Button.getButtonAttributes(buttonElement);if(buttonAttributes.theme!='none'){var buttonTheme=buttonAttributes.theme;_this.Button.addStylesheet();_this.Button.addTheme(buttonElement,buttonAttributes.theme);}else{var buttonTheme='none';}
buttonElement.setAttribute('data-init','true');var bodyRect=document.body.getBoundingClientRect(),elemRect=buttonElement.getBoundingClientRect(),offset=(elemRect.bottom-(elemRect.top-elemRect.bottom))- bodyRect.top,bodyBound=Math.max(document.documentElement.clientHeight,window.innerHeight||0);var aboveFold=(bodyBound>offset)?true:false;_this.Analytics.track('Paddle.Button.Impression',{ButtonTheme:buttonTheme,ButtonText:buttonElement.innerHTML.replace(/(<([^>]+)>)/ig,"")||buttonElement.value||'Unknown',ButtonAboveFold:aboveFold});buttonElement.addEventListener("click",function(event){event.preventDefault();var buttonAttributes=_this.Button.getButtonAttributes(buttonElement);_this.Checkout.open(buttonAttributes,'click');});buttonCounter++;if(buttonAttributes.override){_this.Debug('Loaded and initiated checkout button for override URL: '+buttonAttributes.override+' (Paddle Button #'+buttonCounter+')');}else if(buttonAttributes.product){_this.Debug('Loaded and initiated checkout button for product: '+buttonAttributes.product+' (Paddle Button #'+buttonCounter+')');}else{_this.Debug('Initiated a checkout button without an override URL or Product. (Paddle Button #'+buttonCounter+')','warning');}});_util.each('paddle-gross',function(grossElement){var productId=grossElement.getAttribute('data-product')||false;var quantity=grossElement.getAttribute('data-quantity')||1;if(!productId){productId=grossElement.parentNode.getAttribute('data-product')||false;}
if(productId){var grossPrice=_this.Product.Price('gross',productId,quantity,function(amount){grossElement.innerHTML=amount;});}});_util.each('paddle-tax',function(taxElement){var productId=taxElement.getAttribute('data-product')||false;var quantity=grossElement.getAttribute('data-quantity')||1;if(!productId){productId=taxElement.parentNode.getAttribute('data-product')||false;}
if(productId){var taxPrice=_this.Product.Price('tax',productId,quantity,function(amount){taxElement.innerHTML=amount;});}});_util.each('paddle-net',function(netElement){var productId=netElement.getAttribute('data-product')||false;var quantity=grossElement.getAttribute('data-quantity')||1;if(!productId){productId=netElement.parentNode.getAttribute('data-product')||false;}
if(productId){var netPrice=_this.Product.Price('net',productId,quantity,function(amount){netElement.innerHTML=amount;});}});});}};this.Affiliate={isAffiliate:function(){return _util.isAffiliate();},affiliateToken:function(){if(_util.isAffiliate()){return _util.affiliateToken();}else{return false;}}};this.Analytics={start:function(){if(!_this.Status.failedLoadingAnalytics){if(_options.enableTracking&&!_this.Status.loadedAnalytics){(function(e,t){if(!t.__SV){window.calq=t;var n=e.createElement("script");n.type="text/javascript";n.src="http"+("https:"===e.location.protocol?"s":"")+'://analytics.paddle.com/lib/js/core-1.0.js';n.async=!0;var r=e.getElementsByTagName("script")[0];r.parentNode.insertBefore(n,r);t.init=function(e,o){t.writeKey=e;t._initOptions=o;t._execQueue=[];m="action.track action.trackSale action.trackHTMLLink action.setGlobalProperty user.profile user.identify user.clear".split(" ");for(var n=0;n<m.length;n++){var f=function(){var r=m[n];var s=function(){t._execQueue.push({m:r,args:arguments})};var i=r.split(".");if(i.length==2){if(!t[i[0]]){t[i[0]]=[]}t[i[0]][i[1]]=s}else{t[r]=s}}();}};t.__SV=1}})(document,window.calq||[]);try{calq.init(_this.Environment.defaults().analyticsKey,{cookieName:_defaults.analyticsCookie});}catch(error){_this.Status.failedLoadingAnalytics=true;_this.Debug('Failed to start analytics with key: '+_this.Environment.defaults().analyticsKey,'warning');}
if(!_this.Status.failedLoadingAnalytics){_this.Status.loadedAnalytics=true;_this.Debug('Analytics Started');}}}else{_this.Debug('Won\'t attempt to initiate analytics after previous failure in same session.','warning');}},track:function(action,params,blocking){blocking=blocking!=null?blocking:false;if(_options.enableTracking){if(!_this.Status.loadedAnalytics){_this.Analytics.start();}
if(_this.Status.loadedAnalytics&&!_this.Status.failedLoadingAnalytics){var action=(typeof action=='undefined')?null:action;var params=(typeof params=='undefined')?{}:params;var defaultAnalyticsProperties=_util.analyticsDefaults();for(var attrname in defaultAnalyticsProperties){params[attrname]=defaultAnalyticsProperties[attrname];}
if(typeof params.email!='undefined'&&params.email!=null&&params.email!=''){calq.user.identify(params.email);calq.user.profile({"$full_name":params.email,"$email":params.email,"$country":(typeof params.country!='undefined')?params.country:null});}
calq.action.track(action,params,blocking);}else{_this.Debug('Unable to send '+action+' analytics action as we were previously unable to initiate the analytics library.','warning');}}},trackPageview:function(){if(_options.vendor!=null){_this.Debug('Vendor is identified, tracking pageviews...');var params={};params["$view_url"]=document.URL.replace(/#.*$/,"");params["$view_name"]=document.title||"No Title";this.track('Website.PageView',params,false);}else{_this.Debug('Vendor not identified, skipping pageview tracking.');}}};var _util={fireEvent:function(eventData){if(typeof _options.eventCallback=='function'){_options.eventCallback(eventData);}},detectAutoOpen:function(){if(typeof _util.urlParam('paddle_open')!='undefined'&&(_util.urlParam('paddle_open')=='true'||_util.urlParam('paddle_open')===true)){_util.ready(function(){var firstButton=(typeof document.getElementsByClassName('paddle_button')[0]!='undefined')?document.getElementsByClassName('paddle_button')[0]:false;if(firstButton){var buttonAttributes=_this.Button.getButtonAttributes(firstButton);_this.Checkout.open(buttonAttributes,'auto-open');}});}},getUrlCoupon:function(){if(typeof _util.urlParam('paddle_coupon')!='undefined'&&_util.urlParam('paddle_coupon')!=''){return _util.urlParam('paddle_coupon');}else{return false;}},getPrices:function(productId,quantity,callback){if(typeof _prices[productId]=='undefined'){_util.jsonp(_this.Environment.defaults().pricesApi+'?product_id='+productId+'&quantity='+quantity,function(data){_prices[productId]={};_prices[productId]=data;if(typeof callback=='function'){callback(_prices[productId]);}});}else{if(typeof callback=='function'){callback(_prices[productId]);}}},listen:function(){window.addEventListener("message",(function(message){if(typeof message.data=='object'){if(typeof message.data.callback_data=='undefined'){var callback_data={};}else{var callback_data=message.data.callback_data;}
if(message.data.action=='close'){_util.closeCheckout(callback_data);}else if(message.data.action=='complete'){_util.completeCheckout(callback_data);}
if(message.data.action=='event'||message.data.action=='close'||message.data.action=='complete'){if(message.data.action=='event'){if(message.data.event_name!='Checkout.Ping.Size'){var globalEventData={event:message.data.event_name,eventData:callback_data,checkoutData:_activeCheckout,campaignData:_util.analyticsDefaults()};_util.fireEvent(globalEventData);}}else{if(message.data.action=='close'){var eventName='Checkout.Close';}else if(message.data.action=='complete'){var eventName='Checkout.Complete';}
var globalEventData={event:eventName,eventData:callback_data,checkoutData:_activeCheckout,campaignData:_util.analyticsDefaults()};_util.fireEvent(globalEventData);}}
if(message.data.action=='event'){if(message&&message.data&&message.data.event_name){_this.Debug('Checkout fired message: '+message.data.event_name);if(message.data.event_name=='Checkout.Loaded'){if(_activeCheckout.method!='inline'){_util.showPoweredBy();_util.hideLoading();if((typeof _activeCheckout.isUpsell=='undefined'||_activeCheckout.isUpsell!='true')&&_activeCheckout.upsell){_this.Upsell.display(_activeCheckout.upsell);}}
_this.Analytics.track('Paddle.Checkout.Loaded',{email:(typeof message.data.callback_data.email!='undefined')?message.data.callback_data.email:null});if(typeof window[_activeCheckout.loadCallback]=='function'){window[_activeCheckout.loadCallback]();}else if(typeof _activeCheckout.loadCallback=='function'){_activeCheckout.loadCallback();}}else if(message.data.event_name=='Checkout.Error'){_this.Analytics.track('Paddle.Checkout.Error',{email:(typeof message.data.callback_data.email!='undefined')?message.data.callback_data.email:null,error:message.data.callback_data.message});}else if(message.data.event_name=='Checkout.Ping.Size'){if(message.data.callback_data&&message.data.callback_data.height!=''){if(typeof _activeCheckout.frameTarget!=''){document.getElementsByClassName(_activeCheckout.frameTarget)[0].getElementsByTagName('iframe')[0].setAttribute('height',message.data.callback_data.height);}}}else if(message.data.event_name=='Checkout.PaymentComplete'){_this.Analytics.track('Paddle.Checkout.PaymentComplete',{email:(typeof message.data.callback_data.email!='undefined')?message.data.callback_data.email:null});}else if(message.data.event_name=='Checkout.CountryInformationEntered'){_this.Analytics.track('Paddle.Checkout.CountryInformationEntered',{email:(typeof message.data.callback_data.email!='undefined')?message.data.callback_data.email:null});}else if(message.data.event_name=='Checkout.Login'){_this.Analytics.track('Paddle.Checkout.Login',{email:(typeof message.data.callback_data.email!='undefined')?message.data.callback_data.email:null});}else if(message.data.event_name=='Checkout.PaymentMethodSelected'){_this.Analytics.track('Paddle.Checkout.PaymentMethodSelected',{email:(typeof message.data.callback_data.email!='undefined')?message.data.callback_data.email:null,paymentMethod:message.data.callback_data.paymentMethod});}else if(message.data.event_name=='Checkout.DuplicateWarningShown'){_this.Analytics.track('Paddle.Checkout.DuplicateWarningShown',{email:(typeof message.data.callback_data.email!='undefined')?message.data.callback_data.email:null});}}}}}),false);},showLoading:function(returnHtml){_util.hideLoading();if(typeof returnHtml=='undefined'){var returnHtml=false;}
var paddleLoader=document.createElement('div');paddleLoader.setAttribute('style','z-index:99998; display: block; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; right: 0px; bottom: 0px; margin: 0px; padding: 0px; background: rgba(0,0,0,0.1);');paddleLoader.className='paddle-loader';var loadingCircle=document.createElement('div');loadingCircle.setAttribute('style','z-index: 99999; display: block; width: 58px; height: 58px; position: fixed; top: 50%; left: 50%; margin-top: -29px; margin-left: -29px; background: #FFFFFF; box-shadow: 0px 0px 0px 1px rgba(0,0,0,0.1), 0px 1px 6px 0px rgba(0,0,0,0.12); border-radius: 40px; padding: 4px; box-sizing: border-box;');var loadingImage=document.createElement('img')
loadingImage.src='https://cdn.paddle.com/paddle/i/loading.gif';loadingImage.setAttribute('style','display: block; width: 50px; height: 50px;');loadingCircle.appendChild(loadingImage);paddleLoader.appendChild(loadingCircle);if(!returnHtml){document.getElementsByTagName('body')[0].appendChild(paddleLoader);}else{return _util.nodeToString(paddleLoader);}},hideLoading:function(){_util.each('paddle-loader',function(loader){loader.parentNode.removeChild(loader);});},showPoweredBy:function(){if(_options.poweredByBadge&&!_util.isMobile()){_util.hidePoweredBy();var paddlePowered=document.createElement('div');paddlePowered.className='paddle-powered';paddlePowered.setAttribute('style','position: fixed; z-index: 99999999; left: 12px; bottom: 12px;');var poweredLink=document.createElement('a');poweredLink.setAttribute('href','https://www.paddle.com/features/checkout/?utm_source=Referral_'+window.location.host+'&utm_campaign=CheckoutReferral&utm_medium=CheckoutReferral&utm_content=Referral_'+window.location.host);poweredLink.setAttribute('target','_blank');var poweredImage=document.createElement('img');poweredImage.setAttribute('src','https://cdn.paddle.com/paddle/i/powered.png');poweredImage.setAttribute('width',220);poweredImage.setAttribute('height',32);poweredLink.appendChild(poweredImage);poweredLink.addEventListener("click",function(event){_this.Analytics.track('Paddle.PoweredBy.Click');});paddlePowered.appendChild(poweredLink);document.getElementsByTagName('body')[0].appendChild(paddlePowered);_this.Analytics.track('Paddle.PoweredBy.Impression');}else{if(_util.isMobile()){_this.Debug('"Powered by Paddle" rendering skipped due to mobile session.');}else{_this.Debug('"Powered by Paddle" rendering skipped due to _options preference.');}}},hidePoweredBy:function(){_util.each('paddle-powered',function(loader){loader.parentNode.removeChild(loader);});},isMobile:function(){var check=false;(function(a){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))check=true})(navigator.userAgent||navigator.vendor||window.opera);if(check){_this.Debug('Mobile session detected.');}
return check;},ready:(function(){var readyList,DOMContentLoaded,class2type={};class2type["[object Boolean]"]="boolean";class2type["[object Number]"]="number";class2type["[object String]"]="string";class2type["[object Function]"]="function";class2type["[object Array]"]="array";class2type["[object Date]"]="date";class2type["[object RegExp]"]="regexp";class2type["[object Object]"]="object";var ReadyObj={isReady:false,readyWait:1,holdReady:function(hold){if(hold){ReadyObj.readyWait++;}else{ReadyObj.ready(true);}},ready:function(wait){if((wait===true&&!--ReadyObj.readyWait)||(wait!==true&&!ReadyObj.isReady)){if(!document.body){return setTimeout(ReadyObj.ready,1);}
ReadyObj.isReady=true;if(wait!==true&&--ReadyObj.readyWait>0){return;}
readyList.resolveWith(document,[ReadyObj]);}},bindReady:function(){if(readyList){return;}
readyList=ReadyObj._Deferred();if(document.readyState==="complete"){return setTimeout(ReadyObj.ready,1);}
if(document.addEventListener){document.addEventListener("DOMContentLoaded",DOMContentLoaded,false);window.addEventListener("load",ReadyObj.ready,false);}else if(document.attachEvent){document.attachEvent("onreadystatechange",DOMContentLoaded);window.attachEvent("onload",ReadyObj.ready);var toplevel=false;try{toplevel=window.frameElement==null;}catch(e){}
if(document.documentElement.doScroll&&toplevel){doScrollCheck();}}},_Deferred:function(){var
callbacks=[],fired,firing,cancelled,deferred={done:function(){if(!cancelled){var args=arguments,i,length,elem,type,_fired;if(fired){_fired=fired;fired=0;}
for(i=0,length=args.length;i<length;i++){elem=args[i];type=ReadyObj.type(elem);if(type==="array"){deferred.done.apply(deferred,elem);}else if(type==="function"){callbacks.push(elem);}}
if(_fired){deferred.resolveWith(_fired[0],_fired[1]);}}
return this;},resolveWith:function(context,args){if(!cancelled&&!fired&&!firing){args=args||[];firing=1;try{while(callbacks[0]){callbacks.shift().apply(context,args);}}
finally{fired=[context,args];firing=0;}}
return this;},resolve:function(){deferred.resolveWith(this,arguments);return this;},isResolved:function(){return!!(firing||fired);},cancel:function(){cancelled=1;callbacks=[];return this;}};return deferred;},type:function(obj){return obj==null?String(obj):class2type[Object.prototype.toString.call(obj)]||"object";}}
function doScrollCheck(){if(ReadyObj.isReady){return;}
try{document.documentElement.doScroll("left");}catch(e){setTimeout(doScrollCheck,1);return;}
ReadyObj.ready();}
if(document.addEventListener){DOMContentLoaded=function(){document.removeEventListener("DOMContentLoaded",DOMContentLoaded,false);ReadyObj.ready();};}else if(document.attachEvent){DOMContentLoaded=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",DOMContentLoaded);ReadyObj.ready();}};}
function ready(fn){ReadyObj.bindReady();var type=ReadyObj.type(fn);readyList.done(fn);}
return ready;})(),each:function(className,callback){var elements=document.getElementsByClassName(className);for(var i=0;i<elements.length;i++){var thisElement=elements[i];if(typeof callback==="function"){callback(thisElement);}else{throw new Error("_util.each(className, function() {... requires the callback argument to be of type Function");}}},queryString:function(obj,prefix){var str=[];for(var p in obj){if(obj.hasOwnProperty(p)){var k=prefix?prefix+"["+ p+"]":p,v=obj[p];if(k!=null&&k!=''&&v!=null&&v!=''&&typeof v!='function'){if(k!='closeCallback'&&k!='successCallback'&&k!='loadCallback'&&k!='method'&&k!='override'){str.push(typeof v=="object"?this.queryString(v,k):encodeURIComponent(k)+"="+ encodeURIComponent(v));}}}}
return str.join("&");},buildCheckoutUrl:function(productId,checkoutQuery,type){if(typeof checkoutQuery=='undefined'){var checkoutQuery={};}
if(type=='popup'){checkoutQuery.popup='true';checkoutQuery.paddle_js='true';checkoutQuery.parentURL=window.location.href;}else{delete checkoutQuery.popup;if(type=='fallback'){checkoutQuery.popup='true';checkoutQuery.paddle_js='true';checkoutQuery.popup_window='true';checkoutQuery.parentURL=window.location.href;}}
var urlCoupon=_util.getUrlCoupon();if(urlCoupon){checkoutQuery.coupon=urlCoupon;}
if(checkoutQuery.internal=='true'){var internalPlan=checkoutQuery.plan;var internalVendor=checkoutQuery.vendor;delete checkoutQuery.internal;delete checkoutQuery.plan;delete checkoutQuery.vendor;var checkoutFullUrl=_this.Environment.defaults().internalCheckoutBase+internalPlan+'/'+internalVendor+'/?'+_util.queryString(checkoutQuery);}else{if(_util.isAffiliate()&&(typeof checkoutQuery.override=='undefined'||checkoutQuery.override.length==0)){var checkoutFullUrl='https://a.paddle.com/checkout/'+_util.affiliateToken()+'/?type=product&product_id='+productId+'&'+_util.queryString(checkoutQuery);if(typeof checkoutQuery.success!='undefined'&&checkoutQuery.success!=''){checkoutQuery.affiliate_success=_util.absoluteUrl(checkoutQuery.success);}}else{if(typeof checkoutQuery.override!='undefined'&&checkoutQuery.override!=''&&checkoutQuery.override!=null){var checkoutFullUrl=checkoutQuery.override+'/?'+_util.queryString(checkoutQuery);}else{var checkoutFullUrl=_this.Environment.defaults().checkoutBase+productId+'/?'+_util.queryString(checkoutQuery);}}}
_this.Debug('Built checkout URL: '+checkoutFullUrl);return checkoutFullUrl;},renderCheckoutFrame:function(productId,checkoutQuery,inline){if(typeof inline=='undefined'){var inline=false;}
var checkoutUrl=_util.buildCheckoutUrl(productId,checkoutQuery,'popup');if(!inline){_util.showLoading();}
window.PaddleFrame=document.createElement('iframe');window.PaddleFrame.id='pf_'+productId;window.PaddleFrame.className='paddle-frame';window.PaddleFrame.frameborder='0';window.PaddleFrame.allowtransparency='true';if(typeof checkoutQuery.frameStyle!='undefined'&&checkoutQuery.frameStyle!=''){window.PaddleFrame.setAttribute('style',checkoutQuery.frameStyle);}else{window.PaddleFrame.setAttribute('style','z-index: 99999; display: block; background-color: transparent; border: 0px none transparent; overflow-x: hidden; overflow-y: auto; visibility: visible; margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; position: fixed; left: 0px; top: 0px; width: 100%; height: 100%;');}
if(typeof checkoutQuery.frameInitialHeight!='undefined'){window.PaddleFrame.setAttribute('height',checkoutQuery.frameInitialHeight);}
window.PaddleFrame.src=checkoutUrl;if(typeof checkoutQuery.frameTarget!='undefined'&&checkoutQuery.frameTarget!=''){document.getElementsByClassName(checkoutQuery.frameTarget)[0].appendChild(window.PaddleFrame);}else{document.getElementsByTagName('body')[0].appendChild(window.PaddleFrame);}},renderCheckoutWindow:function(productId,checkoutQuery){if(typeof window.PaddleWindow!='undefined'&&!window.PaddleWindow.closed){_util.closeCheckout(null);}
delete window.PaddleWindow;window.PaddleWindow=window.open("",'PaddlePopupWindow','width='+_defaults.popupWindow.width+',height='+_defaults.popupWindow.height+',location='+_defaults.popupWindow.location+',menubar='+_defaults.popupWindow.menubar+',resizable='+_defaults.popupWindow.resizable+',scrollbars='+_defaults.popupWindow.scrollbars+',status='+_defaults.popupWindow.status+',toolbar='+_defaults.popupWindow.toolbar+',top='+_util.popupWindowPosition('top',_defaults.popupWindow.width,_defaults.popupWindow.height)+',left='+_util.popupWindowPosition('left',_defaults.popupWindow.width,_defaults.popupWindow.height),false);if(typeof window.PaddleWindow!='undefined'){window.PaddleWindow.document.write('<title>Loading Checkout...</title>'+_util.showLoading(true));window.PaddleWindow.location.href=_util.buildCheckoutUrl(productId,checkoutQuery,'fallback');window.PaddleWindow.focus();_util.checkPopupWindowClosed('PaddleWindow',true);_this.Debug('Successfully opened Paddle Checkout as a popup window.');}else{_this.Analytics.track('Paddle.Checkout.Open.Failed',{failureType:'window',failureMessage:'Failed to open checkout popup window, falling back to opening in current window.'});_this.Debug('Unable to load Paddle Checkout as a popup window (typically due to popup blocker), falling back to opening in the current page. Callbacks will not be called upon close and success.','warning');window.location.href=_util.buildCheckoutUrl(productId,checkoutQuery,'normal');}},popupWindowPosition:function(direction,popupWidth,popupHeight){var dualScreenLeft=window.screenLeft!=undefined?window.screenLeft:screen.left;var dualScreenTop=window.screenTop!=undefined?window.screenTop:screen.top;var width=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width;var height=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;var left=((width/2)-(popupWidth/2))+ dualScreenLeft;var top=((height/2)-(popupHeight/2))+ dualScreenTop;if(direction=='left'){return left;}else if(direction=='top'){return top;}else{return false;}},closeCheckout:function(callback_data,fireCustomCallback){_this.Debug('Checkout frame/window has been closed.');if(typeof _activeCheckout.upsell!='undefined'&&_activeCheckout.upsell!=''){_this.Upsell.close(_activeCheckout.upsell);}
var original=document.getElementById('paddle_upsell_original');if(original){original.setAttribute('style','display:none;');}
if(typeof fireCustomCallback=='undefined'){var fireCustomCallback=true;}
_util.hideLoading();_util.hidePoweredBy();_util.each('paddle-frame',function(element){element.parentNode.removeChild(element);});if(typeof window.PaddleWindow!='undefined'&&!window.PaddleWindow.closed){_util.clearPopupWindowClosureCheck();window.PaddleWindow.close();}
var closeObject={checkoutCompleted:(callback_data&&callback_data.completed)?callback_data.completed:false,checkout:(callback_data&&callback_data.checkout)?callback_data.checkout:null,product:(callback_data&&callback_data.product_name)?callback_data.product_name:null,couponApplied:(callback_data&&callback_data.coupon_applied)?callback_data.coupon_applied:null,quantity:(callback_data&&callback_data.quantity)?callback_data.quantity:1,country:(callback_data&&callback_data.country)?callback_data.country:null,email:(callback_data&&callback_data.email)?callback_data.email:null};_this.Analytics.track('Paddle.Checkout.Close',closeObject);if(fireCustomCallback){if(typeof window[_activeCheckout.closeCallback]=='function'){delete closeObject.checkoutCompleted;window[_activeCheckout.closeCallback](closeObject);}else if(typeof _activeCheckout.closeCallback=='function'){delete closeObject.checkoutCompleted;_activeCheckout.closeCallback(closeObject);}}},completeCheckout:function(callback_data){var completeObject={checkoutCompleted:(callback_data&&callback_data.completed)?callback_data.completed:false,checkout:(callback_data&&callback_data.checkout)?callback_data.checkout:null,product:(callback_data&&callback_data.product_name)?callback_data.product_name:null,couponApplied:(callback_data&&callback_data.coupon_applied)?callback_data.coupon_applied:null,quantity:(callback_data&&callback_data.quantity)?callback_data.quantity:1,country:(callback_data&&callback_data.country)?callback_data.country:null,email:(callback_data&&callback_data.email)?callback_data.email:null,redirect:((callback_data&&callback_data.redirect)||(_activeCheckout.success&&_activeCheckout.success!=''))?true:false,redirectUrl:((callback_data&&callback_data.redirect)||(_activeCheckout.success&&_activeCheckout.success!=''))?(_activeCheckout.success&&_activeCheckout.success!='')?_activeCheckout.success:callback_data.redirect_url:null};_this.Analytics.track('Paddle.Checkout.Complete',completeObject);if(typeof window[_activeCheckout.successCallback]=='function'){_util.closeCheckout(null,false);delete completeObject.checkoutCompleted;window[_activeCheckout.successCallback](completeObject);}else if(typeof _activeCheckout.successCallback=='function'){_util.closeCheckout(null,false);delete completeObject.checkoutCompleted;_activeCheckout.successCallback(completeObject);}else{if(_activeCheckout.success&&_activeCheckout.success!=''){_util.closeCheckout(null,false);_util.showLoading();setTimeout(function(){window.top.location.href=_activeCheckout.success||'#!';},2600);}else if(callback_data&&callback_data.redirect){_util.closeCheckout(null);_util.showLoading();setTimeout(function(){window.top.location.href=callback_data.redirect_url||'#!';},1300);}}},checkPopupWindowClosed:function(popupWindow,newWindow){if(typeof newWindow=='undefined'){var newWindow=false;}else{if(newWindow){window.clearInterval(window.PaddleCheckWindowClosure);delete window.PaddleCheckWindowClosure;}}
if(typeof window[popupWindow]!='undefined'&&window[popupWindow].closed){_util.clearPopupWindowClosureCheck();_util.closeCheckout(null);}else{if(typeof window[popupWindow]!='undefined'&&typeof window.PaddleCheckWindowClosure=='undefined'){window.PaddleCheckWindowClosure=window.setInterval(function(){_util.checkPopupWindowClosed(popupWindow);},500);}}},clearPopupWindowClosureCheck:function(){if(typeof window.PaddleCheckWindowClosure!='undefined'){window.clearInterval(window.PaddleCheckWindowClosure);}},hasClass:function(el,className){if(el.classList){return el.classList.contains(className);}else{return!!el.className.match(new RegExp('(\\s|^)'+ className+'(\\s|$)'));}},addClass:function(el,className){if(el.classList){el.classList.add(className);}else if(!this.hasClass(el,className)){el.className+=" "+ className;}},removeClass:function(el,className){if(el.classList){el.classList.remove(className);}else if(this.hasClass(el,className)){var reg=new RegExp('(\\s|^)'+ className+'(\\s|$)');el.className=el.className.replace(reg,' ');}},nodeToString:function(node){var tmpNode=document.createElement("div");tmpNode.appendChild(node.cloneNode(true));var str=tmpNode.innerHTML;tmpNode=node=null;return str;},urlParam:function(param){var vars={};var parts=window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(m,key,value){vars[key]=value;});return vars[param]?vars[param].split('#')[0]:'';},setCookie:function(cookieName,cookieValue,expiresDays){var date=new Date();date.setTime(date.getTime()+(expiresDays*24*60*60*1000));var expires="expires="+date.toUTCString();if(expiresDays!=null){document.cookie=cookieName+"="+cookieValue+"; path=/; "+expires;}else{document.cookie=cookieName+"="+cookieValue+"; path=/;";}
return true;},getCookie:function(cookieName){var name=cookieName+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')c=c.substring(1);if(c.indexOf(name)==0)return c.substring(name.length,c.length);}
return"";},absoluteUrl:function(path){var link=document.createElement("a");link.href=path;return link.protocol+"//"+link.host+link.pathname+link.search+link.hash;},campaignDomainCategory:function(domain){var categorizedDomain={};if(domain!=''){if(typeof _defaults.domainCategories[domain]=='undefined'){var domainMatched=false;for(var domainMatch in _defaults.domainCategories){if(!domainMatched){if(domain.indexOf(domainMatch)>=0){categorizedDomain={type:_defaults.domainCategories[domainMatch].type,name:_defaults.domainCategories[domainMatch].name};domainMatched=true;}}}
if(!domainMatched){categorizedDomain=false;}}else{categorizedDomain={type:_defaults.domainCategories[domain].type,name:_defaults.domainCategories[domain].name};}}else{categorizedDomain=false;}
return categorizedDomain;},campaignAttributes:function(){var returnCampaign={};if(typeof _util.getCookie(_defaults.campaignCookiePrefix+'affiliate')!='undefined'&&_util.getCookie(_defaults.campaignCookiePrefix+'affiliate')!=''){returnCampaign.Affiliate=true;returnCampaign.AffiliateToken=_util.getCookie(_defaults.campaignCookiePrefix+'affiliate');}else{if(typeof _util.urlParam('p_tok')!='undefined'&&_util.urlParam('p_tok')!=''){returnCampaign.Affiliate=true;returnCampaign.AffiliateToken=_util.urlParam('p_tok');_util.setCookie(_defaults.campaignCookiePrefix+'affiliate',returnCampaign.AffiliateToken,_defaults.campaignCookieExpiresDays);}else{returnCampaign.Affiliate=false;returnCampaign.AffiliateToken='';}}
if(typeof _util.getCookie(_defaults.campaignCookiePrefix+'discovery')!='undefined'&&_util.getCookie(_defaults.campaignCookiePrefix+'discovery')!=''){returnCampaign.Discovery=true;}else{if(typeof _util.urlParam('p_discovery')!='undefined'&&_util.urlParam('p_discovery')=='true'){returnCampaign.Discovery=true;_util.setCookie(_defaults.campaignCookiePrefix+'discovery','true',_defaults.campaignCookieExpiresDays);}else{returnCampaign.Discovery=false;}}
if(typeof _util.getCookie(_defaults.campaignCookiePrefix+'paddle_ref')!='undefined'&&_util.getCookie(_defaults.campaignCookiePrefix+'paddle_ref')!=''){returnCampaign.PaddleRef=_util.getCookie(_defaults.campaignCookiePrefix+'paddle_ref');}else{if(typeof _util.urlParam('paddle_ref')!='undefined'&&_util.urlParam('paddle_ref')!=''){returnCampaign.PaddleRef=_util.urlParam('paddle_ref');_util.setCookie(_defaults.campaignCookiePrefix+'paddle_ref',returnCampaign.PaddleRef,_defaults.campaignCookieExpiresDays);}else{returnCampaign.PaddleRef=false;}}
if(typeof _util.getCookie(_defaults.campaignCookiePrefix+'campaign')!='undefined'&&_util.getCookie(_defaults.campaignCookiePrefix+'campaign')!=''){returnCampaign.Campaign=_util.getCookie(_defaults.campaignCookiePrefix+'campaign');}else{if(typeof _util.urlParam('utm_campaign')!='undefined'&&_util.urlParam('utm_campaign')!=''){returnCampaign.Campaign=_util.urlParam('utm_campaign');_util.setCookie(_defaults.campaignCookiePrefix+'campaign',returnCampaign.Campaign,_defaults.campaignCookieExpiresDays);}else{returnCampaign.Campaign=false;}}
if(typeof _util.getCookie(_defaults.campaignCookiePrefix+'source')!='undefined'&&_util.getCookie(_defaults.campaignCookiePrefix+'source')!=''){returnCampaign.Source=_util.getCookie(_defaults.campaignCookiePrefix+'source');}else{if(typeof _util.urlParam('utm_source')!='undefined'&&_util.urlParam('utm_source')!=''){returnCampaign.Source=_util.urlParam('utm_campaign');_util.setCookie(_defaults.campaignCookiePrefix+'source',returnCampaign.Source,_defaults.campaignCookieExpiresDays);}else{returnCampaign.Source=false;}}
if(typeof _util.getCookie(_defaults.campaignCookiePrefix+'medium')!='undefined'&&_util.getCookie(_defaults.campaignCookiePrefix+'medium')!=''){returnCampaign.Medium=_util.getCookie(_defaults.campaignCookiePrefix+'medium');}else{if(typeof _util.urlParam('utm_medium')!='undefined'&&_util.urlParam('utm_medium')!=''){returnCampaign.Medium=_util.urlParam('utm_medium');_util.setCookie(_defaults.campaignCookiePrefix+'medium',returnCampaign.Medium,_defaults.campaignCookieExpiresDays);}else{returnCampaign.Medium=false;}}
if(typeof _util.getCookie(_defaults.campaignCookiePrefix+'term')!='undefined'&&_util.getCookie(_defaults.campaignCookiePrefix+'term')!=''){returnCampaign.Term=_util.getCookie(_defaults.campaignCookiePrefix+'term');}else{if(typeof _util.urlParam('utm_term')!='undefined'&&_util.urlParam('utm_term')!=''){returnCampaign.Term=_util.urlParam('utm_term');_util.setCookie(_defaults.campaignCookiePrefix+'term',returnCampaign.Term,_defaults.campaignCookieExpiresDays);}else{returnCampaign.Term=false;}}
if(typeof _util.getCookie(_defaults.campaignCookiePrefix+'referrer')!='undefined'&&_util.getCookie(_defaults.campaignCookiePrefix+'referrer')!=''){returnCampaign.Referrer=_util.getCookie(_defaults.campaignCookiePrefix+'referrer');}else{if(typeof document.referrer.split('/')[2]!='undefined'&&document.referrer.split('/')[2]!=''){returnCampaign.Referrer=document.referrer.split('/')[2];_util.setCookie(_defaults.campaignCookiePrefix+'referrer',returnCampaign.Referrer,_defaults.campaignCookieExpiresDays);}else{returnCampaign.Referrer=false;}}
if(returnCampaign.Referrer){var referrerMeta=_util.campaignDomainCategory(returnCampaign.Referrer);if(referrerMeta){returnCampaign.Referrer=referrerMeta.name;returnCampaign.ReferrerCategory=referrerMeta.type;}else{returnCampaign.ReferrerCategory=false;}}else{returnCampaign.ReferrerCategory=false;}
return returnCampaign;},analyticsDefaults:function(){var analyticsDefaultValues={};analyticsDefaultValues._Library={};analyticsDefaultValues._Request={};analyticsDefaultValues._Affiliate={};analyticsDefaultValues._Discovery={};analyticsDefaultValues._Campaign={};analyticsDefaultValues._Campaign.Referrer={};analyticsDefaultValues._Library.Version=libraryVersion;analyticsDefaultValues._Library.LoadMethod=_options.loadMethod;analyticsDefaultValues._Vendor=_options.vendor||null;analyticsDefaultValues._Request.Secure=(window.location.protocol=='https')?true:false;analyticsDefaultValues._Request.Domain=window.location.host.replace(/www\./,'');analyticsDefaultValues._Request.Page=window.location.origin+window.location.pathname;analyticsDefaultValues._Request.Mobile=_util.isMobile();var campaignData=_util.campaignAttributes();analyticsDefaultValues._Campaign.Referrer.Name=(campaignData.Referrer)?campaignData.Referrer:null;analyticsDefaultValues._Campaign.Referrer.Type=(campaignData.ReferrerCategory)?campaignData.ReferrerCategory:null;analyticsDefaultValues._Campaign.Paddle=(campaignData.PaddleRef)?campaignData.PaddleRef:null;analyticsDefaultValues._Campaign.Name=(campaignData.Campaign)?campaignData.Campaign:null;analyticsDefaultValues._Campaign.Source=(campaignData.Source)?campaignData.Source:null;analyticsDefaultValues._Campaign.Medium=(campaignData.Medium)?campaignData.Medium:null;analyticsDefaultValues._Campaign.Term=(campaignData.Term)?campaignData.Term:null;analyticsDefaultValues._Affiliate.IsAffiliate=(campaignData.Affiliate)?true:false;analyticsDefaultValues._Affiliate.AffiliateToken=(campaignData.AffiliateToken)?campaignData.AffiliateToken:null;analyticsDefaultValues._Discovery.IsDiscovery=(campaignData.Discovery)?true:false;analyticsDefaultValues._Campaign.CampaignSummaryString='';if(analyticsDefaultValues._Request.Domain!=null){if(analyticsDefaultValues._Campaign.CampaignSummaryString!='')analyticsDefaultValues._Campaign.CampaignSummaryString+=' / ';analyticsDefaultValues._Campaign.CampaignSummaryString+=analyticsDefaultValues._Request.Domain.replace('/','');}
if(analyticsDefaultValues._Discovery.IsDiscovery){if(analyticsDefaultValues._Campaign.CampaignSummaryString!='')analyticsDefaultValues._Campaign.CampaignSummaryString+=' / ';analyticsDefaultValues._Campaign.CampaignSummaryString+='Paddle Discovery';}else{if(analyticsDefaultValues._Affiliate.IsAffiliate){if(analyticsDefaultValues._Campaign.CampaignSummaryString!='')analyticsDefaultValues._Campaign.CampaignSummaryString+=' / ';analyticsDefaultValues._Campaign.CampaignSummaryString+='Affiliate';}}
if(analyticsDefaultValues._Campaign.Referrer.Name!=null){if(analyticsDefaultValues._Campaign.CampaignSummaryString!='')analyticsDefaultValues._Campaign.CampaignSummaryString+=' / ';analyticsDefaultValues._Campaign.CampaignSummaryString+=analyticsDefaultValues._Campaign.Referrer.Name.replace('/','');}
if(analyticsDefaultValues._Campaign.Paddle!=null){if(analyticsDefaultValues._Campaign.CampaignSummaryString!='')analyticsDefaultValues._Campaign.CampaignSummaryString+=' / ';analyticsDefaultValues._Campaign.CampaignSummaryString+=analyticsDefaultValues._Campaign.Paddle.replace('/','');}
if(analyticsDefaultValues._Campaign.Name!=null){if(analyticsDefaultValues._Campaign.CampaignSummaryString!='')analyticsDefaultValues._Campaign.CampaignSummaryString+=' / ';analyticsDefaultValues._Campaign.CampaignSummaryString+=analyticsDefaultValues._Campaign.Name.replace('/','');}
return analyticsDefaultValues;},setPaddleCampaign:function(campaignValue){if(campaignValue!=null&&campaignValue!=''){_util.setCookie(_defaults.campaignCookiePrefix+'paddle_ref',campaignValue,_defaults.campaignCookieExpiresDays);}},buildPaddleReferrerString:function(){var analyticsData=_util.analyticsDefaults();return analyticsData._Campaign.CampaignSummaryString||'';},isAffiliate:function(){var analyticsData=_util.analyticsDefaults();return analyticsData._Affiliate.IsAffiliate;},affiliateToken:function(){var analyticsData=_util.analyticsDefaults();return analyticsData._Affiliate.AffiliateToken;},jsonp:function(url,callback,context){var name="_jsonp_"+ Math.ceil(Math.random()*10000000);if(url.match(/\?/)){url+="&callback="+name;}else{url+="?callback="+name;}
var script=document.createElement('script');script.type='text/javascript';script.src=url;window[name]=function(data){_this.Debug('Paddle API call finished ('+url+'), response: '+JSON.stringify(data));callback.call((context||window),data);document.getElementsByTagName('head')[0].removeChild(script);script=null;delete window[name];};document.getElementsByTagName('head')[0].appendChild(script);}};this.Debug=function(message,type,alwaysShow){if(typeof type=='undefined'){var type='log';}
if(typeof alwaysShow=='undefined'){var alwaysShow=false;}
var debugMessage='[Paddle Debug] '+message;if(_options.debug){if(type=='log'){console.debug(debugMessage);}else if(type=='warning'){console.warn(debugMessage);}}
if(alwaysShow){window.console=console||{log:function(message){},error:function(message){},warn:function(message){}};console.warn(message);}};}})();(function(){var Paddle;var PaddleVersion="0.7.4";if(this.Paddle==null||typeof this.Paddle=='undefined'){this.Paddle||(this.Paddle={});this.Paddle=new _Paddle(window,PaddleVersion);}})(this);